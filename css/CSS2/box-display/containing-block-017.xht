<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>CSS Test: Containing Block - absolutely positioned element versus nearest positioned ('position: relative') ancestor which is an inline parent with left-to-right direction</title>
        <link rel="author" title="Microsoft" href="http://www.microsoft.com/" />
        <link rel="author" title="Alan Gresley" href="alan@css-class.com" />
        <link rel="author" title="Elika J. Etemad" href="http://fantasai.inkedblade.net/contact" />
        <link rel="author" title="GÃ©rard Talbot" href="http://www.gtalbot.org/BrowserBugsSection/css21testsuite/" />
        <link rel="help" href="http://www.w3.org/TR/CSS21/visudet.html#containing-block-details" />
        <meta name="flags" content="dom interact" />
        <meta name="assert" content="When the nearest (closest within containment hierarchy) positioned ancestor of an absolutely positioned element is an inline-level element with left-to-right direction, then the bounding box that serves as containing block for such absolutely positioned element are the padding boxes of the first and the last inline boxes generated for such inline-level element." />
        <style type="text/css">
            div
            {
                border: solid silver;
                direction: ltr;
                font-size: 20px;
                line-height: 30px;
                padding: 100px;
                width: 450px;
            }
            span#first-box, span#last-box
            {
                color: silver;
            }
            span.abs-pos
            {
                height: 30px;
                position: absolute;
                width: 30px;
            }
            span#tl-control
            {
                border-top: 30px solid red;
                margin-left: -50px;
                padding: 20px 15px;
            }
            span#br-control
            {
                border-bottom: 30px solid red;
                margin-right: -50px;
                padding: 20px 15px;
            }
            span#overlapping-green-TL
            {
                background: green;
                left: 0;
                top: 0;
            }
            span#overlapping-green-BR
            {
                background: green;
                bottom: 0;
                right: 0;
            }
            span#containing-block
            {
                border: 5px solid silver;
                padding: 50px;
                position: relative;
            }
        </style>
    </head>
    <body>
        <p>Test passes if there is <strong>no red</strong>.</p>
        <div>
            <span id="containing-block">
                <span id="first-box"><span id="tl-control"></span>First inline box</span>
                <span id="overlapping-green-BR" class="abs-pos">BR</span>
                <span id="overlapping-green-TL" class="abs-pos">TL</span>
                <span id="last-box">Last inline box<span id="br-control"></span></span>
            </span>
        </div>
    </body>
</html>
