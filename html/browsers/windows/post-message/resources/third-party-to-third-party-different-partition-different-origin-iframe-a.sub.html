<!doctype html>
<meta charset=utf-8>
<body>
<script>
// Step 5
let site3Window;
const listener = e => {
  if (e.data === "Site 4 Frame") {
    site3Window.close();
    window.top.postMessage("Site 2 Frame", "*");
  }
};
// Step 2
window.addEventListener("message", listener);
site3Window = window.open("https://{{host}}:{{ports[https][0]}}/html/browsers/windows/post-message/resources/third-party-to-third-party-different-partition-different-origin-window.sub.https.html", "", "noopener=false");
</script>
</body>
