<!doctype html>
<html charset="UTF-8">
<head>
  <title>Name Comp: Name From Content</title>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <script src="/resources/testdriver.js"></script>
  <script src="/resources/testdriver-vendor.js"></script>
  <script src="/resources/testdriver-actions.js"></script>
  <script src="/wai-aria/scripts/aria-utils.js"></script>
  <style type="text/css">

    .simple-before::before {
      content: " before "; /* [sic] leading and trailing space on most content props, unless marked. */ 
      padding:0 0.2em;
    }
    .simple-after::after {
      content: " after ";
      padding:0 0.2em;
    }
    .no-space::before, .no-space::after {
      content: "nospace"; /* [sic] NO leading and trailing space */
    }
    .simple-before:dir(rtl)::before {
      content: " من قبل ";
    }
    .simple-after:dir(rtl)::after {
      content: " خلف ";
    }
    .fallback-before::before {
      content: " before ";
      content: " before " / " alt-before "; /* Override the previous line for engines that support the Alternative Text syntax. */
    }
    .fallback-after::after {
      content: " after ";
      content: " after " / " alt-after "; /* Override the previous line for engines that support the Alternative Text syntax. */
    }

  </style>
</head>
<body>

<p>Tests the <a href="https://w3c.github.io/accname/#comp_name_from_content">#comp_name_from_content</a> portions of the AccName <em>Name Computation</em> algorithm.</p>

<p>This series of tests exercises the button, heading, and link elements, because each have different characteristics worthy of testing in each of the name computation algorithm scenarios:</p>
<ul>
  <li>button is a leaf node with sub-level elements presentational.</li>
  <li>heading is block level, and can contain sub-level interactives like links.</li>
  <li>link (a[href]) is an interactive inline element that can include non-presentational descendants.</li>
</ul>

<h1>simple</h1>
<button data-expectedlabel="label" data-testname="button name from content" class="ex">label</button><br>
<h3 data-expectedlabel="label" data-testname="heading name from content" class="ex">label</h3>
<a href="#" data-expectedlabel="label" data-testname="link name from content" class="ex">label</a><br>
<br>

<h1>simple with ::before</h1>
<button data-expectedlabel="before label" data-testname="button name from content with ::before" class="ex simple-before">label</button><br>
<h3 data-expectedlabel="before label" data-testname="heading name from content with ::before" class="ex simple-before">label</h3>
<a href="#" data-expectedlabel="before label" data-testname="link name from content with ::before" class="ex simple-before">label</a><br>
<br>

<h1>simple with ::after</h1>
<button data-expectedlabel="label after" data-testname="button name from content with ::after" class="ex simple-after">label</button><br>
<h3 data-expectedlabel="label after" data-testname="heading name from content with ::after" class="ex simple-after">label</h3>
<a href="#" data-expectedlabel="label after" data-testname="link name from content with ::after" class="ex simple-after">label</a><br>
<br>

<h1>simple with ::before and ::after</h1>
<button data-expectedlabel="before label after" data-testname="button name from content with ::before and ::after" class="ex simple-before simple-after">label</button><br>
<h3 data-expectedlabel="before label after" data-testname="heading name from content with ::before and ::after" class="ex simple-before simple-after">label</h3>
<a href="#" data-expectedlabel="before label after" data-testname="link name from content with ::before and ::after" class="ex simple-before simple-after">label</a><br>
<br>

<h1>no space joiners ::before and ::after</h1>
<button data-expectedlabel="nospacelabelnospace" data-testname="button name from content no space joiners ::before and ::after" class="ex no-space">label</button><br>
<h3 data-expectedlabel="nospacelabelnospace" data-testname="heading name from content no space joiners ::before and ::after" class="ex no-space">label</h3>
<a href="#" data-expectedlabel="nospacelabelnospace" data-testname="link name from content no space joiners ::before and ::after" class="ex no-space">label</a><br>
<br>

<h1>RTL with ::before and ::after</h1>
<button dir="rtl" lang="ar" data-expectedlabel="من قبل طابع خلف" data-testname="button name from content with ::before and ::after in rtl" class="ex simple-before simple-after">طابع</button><br>
<h3 dir="rtl" lang="ar" data-expectedlabel="من قبل طابع خلف" data-testname="heading name from content with ::before and ::after in rtl" class="ex simple-before simple-after">طابع</h3>
<a dir="rtl" lang="ar" href="#" data-expectedlabel="من قبل طابع خلف" data-testname="link name from content with ::before and ::after in rtl" class="ex simple-before simple-after">طابع</a><br>
<br>

<h1><a href="https://drafts.csswg.org/css-content/#alt">Alternative Text for  CSS content (previously `alt:`)</a> in pseudo-elements</h1>
<p>rendered text should be "before label after"</p>
<p>accessibility label should be "alt-before label alt-after"</p>
<button data-expectedlabel="alt-before label alt-after" data-testname="button name from fallback content with ::before and ::after" class="ex fallback-before fallback-after">label</button><br>
<h3 data-expectedlabel="alt-before label alt-after" data-testname="heading name from fallback content with ::before and ::after" class="ex fallback-before fallback-after">label</h3>
<a href="#" data-expectedlabel="alt-before label alt-after" data-testname="link name from fallback content with ::before and ::after" class="ex fallback-before fallback-after">label</a><br>
<br>


<!--

Todo: test all remaining cases of https://w3c.github.io/accname/#comp_name_from_content

  - comp_name_from_content_for_each_child
  - comp_name_from_content_for_each_child_set_current
  - comp_name_from_content_for_each_child_recursion
  - comp_for_each_child_append
  - comp_name_from_content_return

Todo: test all remaining *recursive* cases in https://w3c.github.io/accname/#comp_recursive_name_from_content

-->

<script>
AriaUtils.verifyLabelsBySelector(".ex");
</script>
</body>
</html>