<!DOCTYPE html>
<html class="reftest-wait">
<title>CSS animations test: Animations should run even if the initial transform is non-invertible</title>
<link rel="author" title="Philip Rogers" href="mailto:pdr@chromium.org">
<link rel="help" href="https://crbug.com/1238327">
<link rel="match" href="../reference/ref-filled-green-100px-square-only.html">
<style>
  @keyframes animationKeyframes {
    0% { transform: scale(0); }
    /* 0.027% * 60s = 16.2ms */
    0.027% { transform: scale(0); }
    0.0271% { transform: scale(1); }
    100% { transform: scale(1); }
  }
  #anim {
    width: 100px;
    height: 100px;
    background: green;
    animation: animationKeyframes 60s;
  }
</style>
<p>Test passes if there is a filled green square.</p>
<div id="anim"></div>
<script>
  requestAnimationFrame(function() {
    // Wait for 100ms which should be enough time for the animation to have
    // progressed to the "scale(1)" state.
    setTimeout(function() {
      document.documentElement.classList.remove('reftest-wait');
    }, 100);
  });
</script>
</html>
