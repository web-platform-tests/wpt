<!DOCTYPE html>
<html>
  <head>
    <title>import-style-allowed</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="style-src 'unsafe-inline' 'self' 'http://{{domains[www1]}}:{{ports[http][0]}}'; script-src 'self' 'unsafe-inline' 'unsafe-inline'; connect-src 'self';"
    />
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
  </head>

  <body>
    <script>
      promise_test(async (t) => {
        window.addEventListener(
          "securitypolicyviolation",
          t.unreached_func("No security policy violation should be raised.")
        );
        return import("./resources/allowed.css", { with: { type: "css" } });
      }, "import should be allowed");
    </script>
  </body>
</html>
