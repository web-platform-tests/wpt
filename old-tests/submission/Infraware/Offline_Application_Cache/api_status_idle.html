<!DOCTYPE HTML>
<html manifest="manifest/clock.manifest">
 <head>
  <title>Offline Application Cache</title>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
 </head>
 <body>
	<p>
		<h3>API_status_IDLE</h3>
	</p>
	
	<hr>

	<div id="log"></div>
		 
	<script>

		var t = async_test("idle status test");

		if (('applicationCache' in window) && window.applicationCache !== null){
			var cache = window.applicationCache;

			setTimeout(function(){
				var cache = window.applicationCache;
				if (cache.status == cache.IDLE && cache.status == 1) {
					t.step(function() {
					   assert_true(true);
					  });
					t.done();
				} else {
					if (cache.status == cache.UPDATEREADY) {
						alert("please refresh!");
					} else {
						test(function() {
							assert_unreached("applicationCache status is not idle.");
						}, "idle status test")
					}
				}
			}, 3000);
		}

	</script>

 </body>
</html>