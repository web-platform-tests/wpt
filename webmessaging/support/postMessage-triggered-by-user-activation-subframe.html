<!DOCTYPE html>
<html>
<head>
    <title>Subframe for testing postMessage's task triggered by user activation</title>
    <script src="postMessage-triggered-by-user-activation.js"></script>
</head>
<body>
  <script>
    appendButton("Window's postMessage", () => {
      window.parent.postMessage("click1", "*");
    });

    (() => {
      const channel = new MessageChannel();
      window.parent.postMessage("channel2", "*", [channel.port2]);
      appendButton("MessagePort's postMessage ", () => {
        channel.port1.postMessage("click2");
      });
    })();

    (() => {
      const channel = new BroadcastChannel("channel3");
      appendButton("BroadcastChannel's postMessage", () => {
        channel.postMessage("click3");
      });
    })();
  </script>
</body>
</html>
